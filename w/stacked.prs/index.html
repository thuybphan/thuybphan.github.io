<!doctype html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Working with Stacked PRs using git-branchless, git-autofixup, and git-pr | Oliver Nguyen</title><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="robots" content="all,follow"><meta name="googlebot" content="index,follow,snippet,archive"><meta name="og:site_name" content="Oliver Nguyen"><meta property="og:title" content="Working with Stacked PRs using git-branchless, git-autofixup, and git-pr"><meta property="og:description" content="I usually work with stacked PRs. It is a great way to organize my work. I was using sapling and it works really well. I can view stacked commits with sl smart logs, edit many files and make changes to many commits at the same time with sl absorb, have the stack automatically rebase after each change, and push these commits as multiple stacked GitHub PRs with a single sl pr command."><meta property="og:type" content="article"><meta property="og:url" content="https://iOliverNguyen.github.io/w/stacked.prs/"><meta property="og:image" content="https://iOliverNguyen.github.io/images/ogx.png"><meta property="article:section" content="w"><meta property="article:published_time" content="2023-02-19T00:00:00+00:00"><meta property="article:modified_time" content="2023-02-19T00:00:00+00:00"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://iOliverNguyen.github.io/images/ogx.png"><meta name="twitter:title" content="Working with Stacked PRs using git-branchless, git-autofixup, and git-pr"><meta name="twitter:description" content="I usually work with stacked PRs. It is a great way to organize my work. I was using sapling and it works really well. I can view stacked commits with sl smart logs, edit many files and make changes to many commits at the same time with sl absorb, have the stack automatically rebase after each change, and push these commits as multiple stacked GitHub PRs with a single sl pr command."><link rel="stylesheet" href="https://iOliverNguyen.github.io/css/style-classic.css"><link rel="stylesheet" href="https://iOliverNguyen.github.io/style.css"><link rel="icon" type="image/png" href="/images/favicon.png"><link href="https://iOliverNguyen.github.io/w/stacked.prs/index.xml" rel="alternate" type="application/rss+xml" title="Oliver Nguyen"><script async src="https://www.googletagmanager.com/gtag/js?id=G-L5X8RJDCLM"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-L5X8RJDCLM")</script><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></head><body class="max-width mx-auto px3 ltr"><div class="content index py4"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Working with Stacked PRs using git-branchless, git-autofixup, and git-pr</h1><div class="meta"><div class="postdate"><time datetime="2023-02-19 00:00:00 &#43;0000 UTC" itemprop="datePublished">2023-02-19</time></div><div class="article-tag">&nbsp;· <a class="tag-link" href="/w/#git" rel="tag">git</a></div></div></header><div class="content" itemprop="articleBody"><p>I usually work with stacked PRs. It is a great way to organize my work. I was using <a href="https://sapling-scm.com/">sapling</a> and it works really well. I can view stacked commits with <code>sl</code> smart logs, edit many files and make changes to many commits at the same time with <code>sl absorb</code>, have the stack automatically rebase after each change, and push these commits as multiple stacked GitHub PRs with a single <code>sl pr</code> command. It&rsquo;s great! I was very happy with sapling. You can read more about it in <a href="https://olivernguyen.io/w/sapling/">my last article</a>.</p><p>But the honeymoon ended when I wanted to push a stack with 17 commits to GitHub. I reached GitHub&rsquo;s rate limit after creating 10 PRs and got a temporary ban:</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ sl pr 2&gt;<span class="p">&amp;</span><span class="m">1</span> <span class="p">|</span> go run ~/ws/conn/be/go/scripts/slpr
</span></span><span class="line"><span class="cl">pushing <span class="m">17</span> to https://github.com/myorganization/backend.git
</span></span><span class="line"><span class="cl">created new pull request: https://github.com/myorganization/backend/pull/3310
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">created new pull request: https://github.com/myorganization/backend/pull/3319
</span></span><span class="line"><span class="cl">abort: error creating pull request <span class="k">for</span> f05689dca505b3ad1b526a220d7a15f46b4a9511: <span class="o">{</span>
</span></span><span class="line"><span class="cl"> <span class="s2">&#34;message&#34;</span>: <span class="s2">&#34;You have exceeded a secondary rate limit and have been temporarily blocked from content creation. Please retry your request again later.&#34;</span>,
</span></span><span class="line"><span class="cl"> <span class="s2">&#34;documentation_url&#34;</span>: <span class="s2">&#34;https://docs.github.com/rest/overview/resources-in-the-rest-api#secondary-rate-limits&#34;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><p>This left my sapling repository in a bad state. The local commits and the GitHub PRs no longer match. Even after the ban lift, I could not push the remaining commits to GitHub anymore:</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ sl pr
</span></span><span class="line"><span class="cl">pushing <span class="m">8</span> to https://github.com/myorganization/backend.git
</span></span><span class="line"><span class="cl">abort: <span class="sb">`</span>git --git-dir /Users/i/ws/conn/be/.sl/store/git push --force https://github.com/myorganization/backend.git 447c5d073cbadd4bcc251bf8bcd46d9ec4f728bd:refs/heads/pr3320 3f0d1e3103e5246e29806f44b87f4e9289749202:refs/heads/pr3320 7403ecce2590066177a23923bbd509598fe32781:refs/heads/pr3321 8750722250395b8d7e5a2e624a5c65a42ee817e0:refs/heads/pr3322 b543123ebadcca0b1de95293fd551752e1fa0c43:refs/heads/pr3323 263fde607355872bb47305168bf1907d673b0249:refs/heads/pr3324 5b590681dbe1394b7cae9a7d1e9f823205da3cc7:refs/heads/pr3325 17137b286aa5376615a77e58f3ef71bf02a3398f:refs/heads/pr3326<span class="sb">`</span> failed with <span class="nb">exit</span> code 1: stdout:
</span></span><span class="line"><span class="cl">stderr: error: dst ref refs/heads/pr3320 receives from more than one src
</span></span><span class="line"><span class="cl">error: failed to push some refs to <span class="s1">&#39;https://github.com/myorganization/backend.git&#39;</span>
</span></span></code></pre></div><p>The problem is that I do not know the internals of sapling enough to be able to fix it. I had to switch back to git and manually pushed the remaining commits to GitHub. So I decided to bring the sapling&rsquo;s workflow to git with <a href="https://github.com/arxanas/git-branchless">git-branchless</a>, <a href="https://github.com/torbiak/git-autofixup">git-autofixup</a>, and writing my own command, <a href="https://github.com/iOliverNguyen/git-pr">git-pr</a>. Together, they work really well with my stacked PRs workflow. And I can use my Git knowledge to fix problems if they happen.</p><p>To see how working with stacked PRs in sapling and in git-branchless/git-autofixup/git-pr, let&rsquo;s come back with the last example from developing the user sign-up feature: user inputs their email address, password, and we send them a nice welcome email. From the backend perspective, we need to create a new user, verify that the user doesn&rsquo;t exist, and send the email. We need to touch the implementation of the cache package, add an email package, then finally implement the sign-up logic. This can be represented as a stack of PRs:</p><p><img src="../sapling/stacked.png" alt=""></p><h2 id="the-stacked-prs-workflow-with-sapling">The stacked PRs workflow with sapling</h2><p>Here are my most use commands while working with sapling:</p><p><strong>1. View the stacked commits and PRs</strong></p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ sl
</span></span><span class="line"><span class="cl">o bf31e38d1 Today at 04:14 remote/main
</span></span><span class="line"><span class="cl">│
</span></span><span class="line"><span class="cl">│ @  00f1749f6  <span class="m">30</span> minutes ago  oliver
</span></span><span class="line"><span class="cl">│ │  implement user signup
</span></span><span class="line"><span class="cl">│ │
</span></span><span class="line"><span class="cl">│ o  e0dbbc80e  <span class="m">50</span> minutes ago  oliver
</span></span><span class="line"><span class="cl">│ │  implement email package
</span></span><span class="line"><span class="cl">│ │
</span></span><span class="line"><span class="cl">│ o  4f6928029  Yesterday at   oliver
</span></span><span class="line"><span class="cl">├─╯  update cache package
</span></span><span class="line"><span class="cl">│
</span></span></code></pre></div><p>We have a stack with 3 commits.</p><p><strong>2. Edit a commit message with <code>sl metaedit</code></strong></p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">sl metaedit 4f6928029
</span></span></code></pre></div><p>Update the commit message for the cache commit. And automatically rebase all the commits above.</p><p><strong>3. Make changes to multiple commits with <code>sl absorb</code></strong></p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">sl goto 00f1749f6              <span class="c1"># checkout the sign up code</span>
</span></span><span class="line"><span class="cl">vim features/signup/signup.go  <span class="c1"># make changes to signup package</span>
</span></span><span class="line"><span class="cl">vim lib/email/email.go         <span class="c1"># make changes to email package</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">sl absorb                      <span class="c1"># magic 👻</span>
</span></span></code></pre></div><p>With a single command <code>sl absorb</code>, the <code>signup.go</code> changes will be amended to the signup commit, the <code>email.go</code> changes will be amended to the email commit, and the commits will be automatically rebase onto each other.</p><p><strong>4. Rebase a stack of commits with <code>sl rebase -s</code></strong></p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">sl rebase -s 4f6928029 -d remote/main
</span></span></code></pre></div><p>The stack will be rebased onto remote/main.</p><p><strong>4. Undo mistakes with <code>sl undo</code></strong></p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">sl undo
</span></span></code></pre></div><p><strong>5. Push all commits and create stacked PRs with <code>sl pr</code></strong></p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ sl pr
</span></span><span class="line"><span class="cl">pushing <span class="m">3</span> to https://github.com/myorganization/backend.git
</span></span><span class="line"><span class="cl">created new pull request: https://github.com/myorganization/backend/pull/2810
</span></span><span class="line"><span class="cl">created new pull request: https://github.com/myorganization/backend/pull/2811
</span></span><span class="line"><span class="cl">created new pull request: https://github.com/myorganization/backend/pull/2812
</span></span></code></pre></div><p>Push all the commits the remote repository and associate one PR for each commit.</p><h2 id="back-to-git-world">Back to git world</h2><p>Now let&rsquo;s see how can we achieve similar results with git. We will need to install a few things: <a href="https://cli.github.com/">github-cli</a>, <a href="https://github.com/arxanas/git-branchless">git-branchless</a>, <a href="https://github.com/torbiak/git-autofixup">git-autofixup</a>, and <a href="https://github.com/iOliverNguyen/git-pr">git-pr</a>.</p><ul><li>Install <a href="https://cli.github.com/">github-cli</a> with <code>brew install gh</code> then run <code>gh login</code>.</li><li>Install <a href="https://github.com/arxanas/git-branchless">git-branchless</a> with <code>cargo install --locked git-branchless</code> then run <code>git branchless init</code>.</li><li>Install <a href="https://github.com/torbiak/git-autofixup/releases">git-autofixup</a> by downloading <a href="https://github.com/torbiak/git-autofixup/releases">the binary</a> and put it in your <code>$PATH</code>.</li><li>Install <a href="https://github.com/iOliverNguyen/git-pr">git-pr</a> and put it in your <code>$PATH</code>:<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">git clone https://github.com/iOliverNguyen/git-pr
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> git-pr
</span></span><span class="line"><span class="cl">go install .
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:~/bin/go  <span class="c1"># put git-pr in your $PATH</span>
</span></span></code></pre></div></li></ul><h3 id="view-stacked-commits-with-git-sl-git-branchless">View stacked commits with &ldquo;git sl&rdquo; (git-branchless)</h3><p>After running <code>git branchless init</code> in your repository, you will have access to a few useful commands to manage stacked commits. Let&rsquo;s start with <code>git sl</code> to view the stack:</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ git sl
</span></span><span class="line"><span class="cl">◇ bf31e38 3d <span class="o">(</span>main<span class="o">)</span> update something on main <span class="o">(</span><span class="c1">#3102)</span>
</span></span><span class="line"><span class="cl">┃
</span></span><span class="line"><span class="cl">◯ 4f69280 1d update cache package
</span></span><span class="line"><span class="cl">┃
</span></span><span class="line"><span class="cl">◯ e0dbbc8 50m implement email package
</span></span><span class="line"><span class="cl">┃
</span></span><span class="line"><span class="cl">● 00f1749 30m <span class="o">(</span>oliver/signup<span class="o">)</span> implement user signup
</span></span></code></pre></div><p>Notice that I still create a branch <code>oliver/signup</code> to point to the last commit in the stack.</p><h3 id="restack-commits-with-git-restack-git-branchless">Restack commits with &ldquo;git restack&rdquo; (git-branchless)</h3><p>Let&rsquo;s make some changes to the cache commit:</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ git checkout 4f69280    <span class="c1"># check out the cache commit</span>
</span></span><span class="line"><span class="cl">$ git commit --amend      <span class="c1"># make some change to the commit message</span>
</span></span><span class="line"><span class="cl">$ git sl
</span></span><span class="line"><span class="cl">◇ bf31e38 3d <span class="o">(</span>main<span class="o">)</span> update something on main
</span></span><span class="line"><span class="cl">┣━┓
</span></span><span class="line"><span class="cl">┃ ✕ 4f69280 1d <span class="o">(</span>rewritten as a9ca4ac<span class="o">)</span> update cache package
</span></span><span class="line"><span class="cl">┃ ┃
</span></span><span class="line"><span class="cl">┃ ◯ e0dbbc8 50m implement email package
</span></span><span class="line"><span class="cl">┃ ┃
</span></span><span class="line"><span class="cl">┃ ◯ 00f1749 30m <span class="o">(</span>oliver/signup<span class="o">)</span> implement user signup
</span></span><span class="line"><span class="cl">┃
</span></span><span class="line"><span class="cl">● a9ca4ac 1m update cache package 
</span></span></code></pre></div><p>Now run <code>git restack</code> to fix the stack:</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ git restack
</span></span><span class="line"><span class="cl">Attempting rebase in-memory...
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">◇ bf31e38 3d <span class="o">(</span>main<span class="o">)</span> update something on main <span class="o">(</span><span class="c1">#3102)</span>
</span></span><span class="line"><span class="cl">┃
</span></span><span class="line"><span class="cl">◯ a9ca4ac 2m update cache package
</span></span><span class="line"><span class="cl">┃
</span></span><span class="line"><span class="cl">◯ b6d516d 0s implement email package
</span></span><span class="line"><span class="cl">┃
</span></span><span class="line"><span class="cl">● 8a40bd4 0s <span class="o">(</span>oliver/signup<span class="o">)</span> implement user signup
</span></span></code></pre></div><p>All the commits after the cache commit will be rebased on the previous one, with the branch name pointing to the last commit. Compared to sapling, these commands achieve a similar effect as <code>sl metaedit</code> or <code>sl amend</code>.</p><h3 id="make-changes-and-automatically-restack-with-git-amend-and-git-reword-git-branchless">Make changes and automatically restack with &ldquo;git amend&rdquo; and &ldquo;git reword&rdquo; (git-branchless)</h3><p>The above can be simplified by using <code>git amend</code> and git-branchless will automatically rebase subsequent commits. You can also edit a commit message (and automatically rebase) with <code>git reword</code>:</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">git amend
</span></span><span class="line"><span class="cl">git reword a9ca4ac
</span></span></code></pre></div><p>By using these commands provided by git-branchless, we do not need to work with branches anymore. And git-branchless with take care of all the rebasing for us.</p><h3 id="make-changes-to-multiple-commits-with-git-autofixup">Make changes to multiple commits with &ldquo;git autofixup&rdquo;</h3><p>Let&rsquo;s make some changes:</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">git checkout oliver/signup     <span class="c1"># checkout the sign up code</span>
</span></span><span class="line"><span class="cl">vim features/signup/signup.go  <span class="c1"># make changes to signup package</span>
</span></span><span class="line"><span class="cl">vim lib/email/email.go         <span class="c1"># make changes to email package</span>
</span></span></code></pre></div><p>Now, add the changes as <code>fixup!</code> commits. You will notice that there are 2 new commits with the <code>fixup!</code> prefix. They are associated with the corresponding original commits and will be used to update them later.</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ git add .
</span></span><span class="line"><span class="cl">$ git autofixup origin/main
</span></span><span class="line"><span class="cl">$ git sl
</span></span><span class="line"><span class="cl">◇ bf31e38 3d <span class="o">(</span>main<span class="o">)</span> update something on main <span class="o">(</span><span class="c1">#3102)</span>
</span></span><span class="line"><span class="cl">┃
</span></span><span class="line"><span class="cl">◯ a9ca4ac 4m update cache package
</span></span><span class="line"><span class="cl">┃
</span></span><span class="line"><span class="cl">◯ b6d516d 2m implement email package
</span></span><span class="line"><span class="cl">┃
</span></span><span class="line"><span class="cl">◯ 8a40bd4 2m implement user signup
</span></span><span class="line"><span class="cl">┃
</span></span><span class="line"><span class="cl">◯ 5f4da9b 1m fixup! implement user signup
</span></span><span class="line"><span class="cl">┃
</span></span><span class="line"><span class="cl">● c606fe9 1m <span class="o">(</span>oliver/signup<span class="o">)</span> fixup! implement email package
</span></span></code></pre></div><p>Finally, run <code>git rebase --interactive --autosquash</code> to absorb the changes into the original commits:</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ git rebase --interactive --autosquash origin/main
</span></span><span class="line"><span class="cl">$ git sl
</span></span><span class="line"><span class="cl">◇ bf31e38 3d <span class="o">(</span>main<span class="o">)</span> update something on main <span class="o">(</span><span class="c1">#3102)</span>
</span></span><span class="line"><span class="cl">┃
</span></span><span class="line"><span class="cl">◯ a9ca4ac 6m update cache package
</span></span><span class="line"><span class="cl">┃
</span></span><span class="line"><span class="cl">◯ 5bdd29e 1m implement email package
</span></span><span class="line"><span class="cl">┃
</span></span><span class="line"><span class="cl">◯ aa025d1 1m implement user signup
</span></span></code></pre></div><p>Together, these commands achieve the similar effect of <code>sl absorb</code>.</p><h3 id="undo-mistake-with-git-undo-git-branchless">Undo mistake with &ldquo;git undo&rdquo; (git-branchless)</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">git undo
</span></span></code></pre></div><h3 id="push-all-commits-and-create-stacked-prs-with-git-pr">Push all commits and create stacked PRs with <code>git pr</code></h3><p>When everything is ready, let&rsquo;s run <code>git pr</code> to push all the commits to GitHub. A PR will be created for each commit. They will be stacked onto each other:</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">git pr
</span></span></code></pre></div><p>Here&rsquo;s how a PR in the stack will look like:</p><ul><li>A review link, which reviewers can click to access the corresponding commit and add comments.</li><li>A list of all PRs for that stack.</li></ul><p><img src="1.png" alt=""></p><h2 id="recap">Recap</h2><p>🎉 That&rsquo;s it! Now we can work with stacked PRs easily within the git world, compatible with other familiar git commands. And when something goes wrong, at least we can still be able to fix it with our git knowledge and plenty of available tools.</p><h2 id="author">Author</h2><p>I'm Oliver Nguyen. A software maker working mostly in Go and JavaScript. I enjoy learning and seeing a better version of myself each day. Occasionally spin off new open source projects. Share knowledge and thoughts during my journey. <span>Connect with me on <a class="icon" target="_blank" rel="noopener" href="https://github.com/iOliverNguyen"><i class="fab fa-github"></i> </a>, <a class="icon" target="_blank" rel="noopener" href="https://linkedin.com/in/iOliverNguyen"><i class="fab fa-linkedin"></i> </a>, <a class="icon" target="_blank" rel="noopener" href="https://twitter.com/_OliverNguyen"><i class="fab fa-twitter"></i> </a>, <a class="icon" target="_blank" rel="noopener" href="https://iOliverNguyen.medium.com"><i class="fab fa-medium-m"></i> </a>and <a class="icon" target="_blank" rel="noopener" href="mailto:iOliverNguyen@gmail.com"><i class="fas fa-envelope"></i> </a>.</span></p></div></article><div id="header-post"><a id="menu-icon" href="/w"><i class="fas fa-chevron-left fa-lg"></i> <span class="icon-text">Back</span></a> <a id="menu-icon-tablet" href="/w"><i class="fas fa-chevron-left fa-lg"></i> <span class="icon-text">Back</span></a></div><div id="footer-post-container"><div id="footer-post"><div id="nav-footer" style="display:none"><ul></ul></div><div id="toc-footer" class="tog-footer" style="display:none"><script>console.log("content",'<nav id="TableOfContents">\n  <ul>\n    <li><a href="#the-stacked-prs-workflow-with-sapling">The stacked PRs workflow with sapling</a></li>\n    <li><a href="#back-to-git-world">Back to git world</a>\n      <ul>\n        <li><a href="#view-stacked-commits-with-git-sl-git-branchless">View stacked commits with &ldquo;git sl&rdquo; (git-branchless)</a></li>\n        <li><a href="#restack-commits-with-git-restack-git-branchless">Restack commits with &ldquo;git restack&rdquo; (git-branchless)</a></li>\n        <li><a href="#make-changes-and-automatically-restack-with-git-amend-and-git-reword-git-branchless">Make changes and automatically restack with &ldquo;git amend&rdquo; and &ldquo;git reword&rdquo; (git-branchless)</a></li>\n        <li><a href="#make-changes-to-multiple-commits-with-git-autofixup">Make changes to multiple commits with &ldquo;git autofixup&rdquo;</a></li>\n        <li><a href="#undo-mistake-with-git-undo-git-branchless">Undo mistake with &ldquo;git undo&rdquo; (git-branchless)</a></li>\n        <li><a href="#push-all-commits-and-create-stacked-prs-with-git-pr">Push all commits and create stacked PRs with <code>git pr</code></a></li>\n      </ul>\n    </li>\n    <li><a href="#recap">Recap</a></li>\n  </ul>\n</nav>')</script><div class="toc-header"><a href="#">Working with Stacked PRs using git-branchless, git-autofixup, and git-pr</a></div><nav id="TableOfContents"><ul><li><a href="#the-stacked-prs-workflow-with-sapling">The stacked PRs workflow with sapling</a></li><li><a href="#back-to-git-world">Back to git world</a><ul><li><a href="#view-stacked-commits-with-git-sl-git-branchless">View stacked commits with &ldquo;git sl&rdquo; (git-branchless)</a></li><li><a href="#restack-commits-with-git-restack-git-branchless">Restack commits with &ldquo;git restack&rdquo; (git-branchless)</a></li><li><a href="#make-changes-and-automatically-restack-with-git-amend-and-git-reword-git-branchless">Make changes and automatically restack with &ldquo;git amend&rdquo; and &ldquo;git reword&rdquo; (git-branchless)</a></li><li><a href="#make-changes-to-multiple-commits-with-git-autofixup">Make changes to multiple commits with &ldquo;git autofixup&rdquo;</a></li><li><a href="#undo-mistake-with-git-undo-git-branchless">Undo mistake with &ldquo;git undo&rdquo; (git-branchless)</a></li><li><a href="#push-all-commits-and-create-stacked-prs-with-git-pr">Push all commits and create stacked PRs with <code>git pr</code></a></li></ul></li><li><a href="#recap">Recap</a></li></ul></nav></div><div id="share-footer" class="tog-footer" style="display:none"><ul><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fiOliverNguyen.github.io%2fw%2fstacked.prs%2f&title=Working%20with%20Stacked%20PRs%20using%20git-branchless%2c%20git-autofixup%2c%20and%20git-pr"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fiOliverNguyen.github.io%2fw%2fstacked.prs%2f"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fiOliverNguyen.github.io%2fw%2fstacked.prs%2f&text=Working%20with%20Stacked%20PRs%20using%20git-branchless%2c%20git-autofixup%2c%20and%20git-pr"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fiOliverNguyen.github.io%2fw%2fstacked.prs%2f&title=Working%20with%20Stacked%20PRs%20using%20git-branchless%2c%20git-autofixup%2c%20and%20git-pr"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fiOliverNguyen.github.io%2fw%2fstacked.prs%2f&t=Working%20with%20Stacked%20PRs%20using%20git-branchless%2c%20git-autofixup%2c%20and%20git-pr"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li></ul></div><div id="actions-footer"><a id="home" class="icon" href="/w"><i class="fas fa-chevron-left fa-lg" aria-hidden="true"></i> Back</a> <a id="toc" class="icon" href="#" onclick='return $(".tog-footer").toggle(),!1'><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a> <a id="share" class="icon" href="#" onclick='return $(".tog-footer").toggle(),!1'><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></div></div></div><footer id="footer"><div class="footer-left">Copyright &copy; 2023 Oliver Nguyen.</div><div class="footer-right"><nav><ul></ul></nav></div></footer></div></body><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><script src="/lib/jquery/jquery.min.js"></script><script src="/js/main.js"></script></html>